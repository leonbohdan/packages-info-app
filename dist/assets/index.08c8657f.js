import{V as P,a as C,_ as d,b as k,c as T,d as D,e as R,f as F,g as I,h as S,i as V,j as y,k as A,l as B,m as O,n as M,o as E,p as j,q as H,r as z,s as N,t as U,u as f,w as $,v as m,x as Z,y as q,z as X,A as G,B as K,C as W,D as Y,E as J,F as Q,G as ee,H as te,P as ae,I as se}from"./vendor.15321b3a.js";function He(){import("data:text/javascript,")}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();P.use(C);const ne={icons:{defaultSet:"mdi"}},oe=new C(ne);function u(n,e,t,a,s,o,c,g){var r=typeof n=="function"?n.options:n;e&&(r.render=e,r.staticRenderFns=t,r._compiled=!0),a&&(r.functional=!0),o&&(r._scopeId="data-v-"+o);var i;if(c?(i=function(p){p=p||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!p&&typeof __VUE_SSR_CONTEXT__<"u"&&(p=__VUE_SSR_CONTEXT__),s&&s.call(this,p),p&&p._registeredComponents&&p._registeredComponents.add(c)},r._ssrRegister=i):s&&(i=g?function(){s.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:s),i)if(r.functional){r._injectStyles=i;var l=r.render;r.render=function(L,w){return i.call(w),l(L,w)}}else{var _=r.beforeCreate;r.beforeCreate=_?[].concat(_,i):[i]}return{exports:n,options:r}}const re={__name:"BaseFooter",setup(n){return{__sfc:!0,openLink:()=>{window.open("https://github.com/leonbohdan","_blank").focus()}}}};var ie=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"d-flex align-center justify-center flex-column"},[t("div",{staticClass:"mb-3"},[t(d,{attrs:{icon:"",href:"https://github.com/leonbohdan/packages-info-app"}},[t(k,[e._v(" mdi-github ")])],1),t(d,{attrs:{icon:"",href:"https://www.linkedin.com/in/bohdan-leonets/"}},[t(k,[e._v(" mdi-linkedin ")])],1),t(d,{staticStyle:{opacity:"0.5"},attrs:{icon:"",href:"https://t.me/lbwkm"}},[t("svg",{staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.41421"},attrs:{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"23",height:"23",viewBox:"-2 -2 28 28"}},[t("path",{attrs:{d:"M12 0C5.374 0 0 5.372 0 12c0 6.627 5.374 12 12 12 6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12Zm3.224 17.871c.188.133.43.166.646.085a.678.678 0 0 0 .422-.491c.507-2.382 1.737-8.412 2.198-10.578a.457.457 0 0 0-.151-.443.47.47 0 0 0-.465-.082c-2.446.906-9.979 3.732-13.058 4.871a.484.484 0 0 0-.316.467.483.483 0 0 0 .346.445c1.381.413 3.193.988 3.193.988s.847 2.558 1.288 3.858a.512.512 0 0 0 .352.336.505.505 0 0 0 .474-.121l1.805-1.704s2.084 1.527 3.266 2.369Zm-6.423-5.062.98 3.231.218-2.046 5.941-5.358a.162.162 0 0 0 .019-.22.165.165 0 0 0-.219-.037l-6.939 4.43Z"}})])])],1),t("div",{staticClass:"d-flex align-center"},[e._v(" Made by:\xA0 "),t("button",{staticClass:"text-decoration-underline",on:{click:a.openLink}},[e._v(" leonbohdan ")])])])},ce=[],le=u(re,ie,ce,!1,null,null,null,null);const pe=le.exports,_e={__name:"BaseSearch",props:{value:{type:String,default:""}},emits:["input"],setup(n,{emit:e}){return{__sfc:!0,props:n,emit:e}}};var ue=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(T,{attrs:{value:a.props.value,autofocus:"",placeholder:"Search","hide-details":"",outlined:"",flat:"",dense:"","prepend-inner-icon":"mdi-magnify","single-line":""},on:{input:s=>a.emit("input",s)}})},ge=[],de=u(_e,ue,ge,!1,null,null,null,null);const fe=de.exports,h=n=>D.create({baseURL:n}),b="https://data.jsdelivr.com/v1",me="https://registry.npmjs.org/-/v1",ke=(n,e)=>h(b).get(`stats/packages/npm/${n}`,{params:e}),v=(n,e)=>h(b).get(`stats/packages/npm/${n}/badge`,{params:e}),he=n=>h(b).get(`packages/npm/${n}`),ve=n=>h(me).get("/search",{params:n}),ye=400,x=R("packagesStore",{state:()=>({packages:[],packagesLoading:!1,totalPackages:0,package:{stats:null,badges:null,metadata:null},packageLoading:!1,params:{text:"",size:10,from:0},packageTypesParams:{hits:"hits",rank:"rank","type-rank":"type-rank"},packagePeriodParams:{period:"month"}}),getters:{},actions:{getSearchPackages:F(async function(){this.packagesLoading=!0;try{const{data:n}=await ve(this.params);this.packages=n.objects,this.totalPackages=n.total}finally{this.packagesLoading=!1}},ye),setSearchParam(n,e){this.params[n]=e},async getPackageInfo(n){this.packageLoading=!0;try{const e=await ke(n,this.packagePeriodParams),t=await he(n),a=await v(n,{type:this.packageTypesParams.hits}),s=await v(n,{type:this.packageTypesParams.rank}),o=await v(n,{type:this.packageTypesParams["type-rank"]});this.package.stats=e.data,this.package.badges={hits:a.data,rank:s.data,typeRank:o.data},this.package.metadata=t.data}finally{this.packageLoading=!1}}}}),Pe={__name:"BaseDialog",props:{value:{type:Boolean,default:!1},isNotAgree:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"500px"}},emits:["input"],setup(n,{emit:e}){return{__sfc:!0,props:n,emits:e,toggleDialog:s=>{e("input",s)}}}};var be=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",{staticClass:"text-center"},[t(I,{attrs:{value:a.props.value,width:e.width,persistent:""},on:{input:a.toggleDialog}},[t(S,{attrs:{loading:a.props.loading}},[a.props.title?t(V,{staticClass:"pl-6 pr-3 d-flex justify-space-between align-center"},[t("span",{domProps:{innerHTML:e._s(a.props.title)}}),a.props.isNotAgree?e._e():t(d,{attrs:{plain:"",icon:""},on:{click:function(s){return a.toggleDialog(!1)}}},[t(k,[e._v(" mdi-close ")])],1)],1):e._e(),t(y),t(A,{staticClass:"p-0"},[e._t("default")],2),a.props.showFooter?[t(y),t(B,[t(O),e._t("footer",function(){return[t(d,{attrs:{color:"error",text:""},on:{click:function(s){return a.toggleDialog(!1)}}},[e._v(" Cancel ")])]})],2)]:e._e()],2)],1)],1)},we=[],$e=u(Pe,be,we,!1,null,null,null,null);const Ce=$e.exports,Se={__name:"PackageInfoDialog",props:{value:{type:Boolean,default:!1}},emits:["input"],setup(n,{emit:e}){const t=n,a=x(),s=c=>c==="npm"?"mdi-npm":"mdi-github",o=M(()=>{var c;return(c=a.package.metadata)!=null&&c.tags?Object.entries(a.package.metadata.tags):[]});return{__sfc:!0,packagesStore:a,props:t,emit:e,typeIcon:s,formattedTags:o}}};var xe=function(){var s,o,c,g,r;var e=this,t=e._self._c,a=e._self._setupProxy;return t(Ce,{attrs:{value:a.props.value,title:"Package info",loading:a.packagesStore.packageLoading,width:"600px"},on:{input:i=>a.emit("input",i)}},[a.packagesStore.packageLoading?e._e():[t("div",{staticClass:"overline pt-2 d-flex align-center"},[e._v(" "+e._s((s=a.packagesStore.package.metadata)==null?void 0:s.name)+" "),t(k,{attrs:{large:""}},[e._v(e._s(a.typeIcon((o=a.packagesStore.package.metadata)==null?void 0:o.type)))])],1),t("div",{staticClass:"py-1"},[t("span",{domProps:{innerHTML:e._s((c=a.packagesStore.package.badges)==null?void 0:c.hits)}}),t("span",{staticClass:"px-3",domProps:{innerHTML:e._s((g=a.packagesStore.package.badges)==null?void 0:g.rank)}}),t("span",{domProps:{innerHTML:e._s((r=a.packagesStore.package.badges)==null?void 0:r.typeRank)}})]),t(E,{staticClass:"pa-0",attrs:{dense:"",flat:""}},[t(j,{staticClass:"pa-0"},[t(H,{staticClass:"pa-0"},[t(z,{attrs:{column:""}},e._l(a.formattedTags,function(i,l){return t(N,{key:l,attrs:{small:""}},[t("b",[e._v(e._s(i[0])+" "+e._s(i[1]))])])}),1)],1)],1)],1),t(U,{attrs:{"fixed-header":"",height:"300px"},scopedSlots:e._u([{key:"default",fn:function(){var i;return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v(" Versions ")])])]),t("tbody",e._l((i=a.packagesStore.package.metadata)==null?void 0:i.versions,function({version:l},_){return t("tr",{key:_},[t("td",[e._v(e._s(l))])])}),0)]},proxy:!0}],null,!1,1265162161)})]],2)},Le=[],Te=u(Se,xe,Le,!1,null,null,null,null);const De=Te.exports,Re={__name:"PackagesList",setup(n){const e=x();e.getSearchPackages();const t=f(""),a=f(!1),s=f(1);$(t,l=>{e.setSearchParam("text",l),s.value=1},{deep:!0}),$(()=>e.params,()=>e.getSearchPackages(),{deep:!0});const o=f([{value:"package.name",text:"Name",sortable:!1,filterable:!0},{value:"package.version",text:"Version",align:"center",sortable:!1},{value:"package.description",text:"Description",align:"center",sortable:!1},{value:"package.author.name",text:"Author",align:"center",sortable:!1},{value:"package.date",text:"Date",align:"center",sortable:!1}]);return{__sfc:!0,packagesStore:e,search:t,showPackageInfoDialog:a,currentPage:s,headers:o,footerProps:{"items-per-page-options":[5,10,15,20],"show-current-page":!0},handleChosenRow:(l,_)=>{e.getPackageInfo(l.package.name);const p=!_.isSelected;_.select(p),a.value=!0},updateTableOptions:({page:l,itemsPerPage:_}={})=>{s.value=l;const p=(l-1)*_;e.setSearchParam("size",_),e.setSearchParam("from",p)},dateFormatter:l=>l?W(new Date(l),"dd-MM-yyyy"):"-",PackageInfoDialog:De}}};var Fe=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(S,[t(m,{staticClass:"mb-0",attrs:{fluid:""}},[t(Z,{staticClass:"overflow-hidden",attrs:{outlined:"",rounded:""}},[t(q,[t(X,{attrs:{dense:"",align:"center"}},[t(G,{staticClass:"pa-4 mr-auto",attrs:{cols:"auto"}},[t(fe,{model:{value:a.search,callback:function(s){a.search=s},expression:"search"}})],1)],1)],1),t(y),t(K,{attrs:{loading:a.packagesStore.packagesLoading,"items-per-page":a.packagesStore.params.size,headers:a.headers,items:a.packagesStore.packages,"server-items-length":a.packagesStore.totalPackages,page:a.currentPage,"footer-props":a.footerProps,"item-value":"package.name","single-select":"","show-select":!1,"item-key":"package.name","selectable-key":"package.name"},on:{"click:row":a.handleChosenRow,"update:options":a.updateTableOptions},scopedSlots:e._u([{key:"item.package.name",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(s.package.name)+" ")])]}},{key:"item.package.version",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(s.package.version)+" ")])]}},{key:"item.package.description",fn:function({item:s}){var o;return[e._v(" "+e._s(((o=s.package)==null?void 0:o.description)||"-")+" ")]}},{key:"item.package.author.name",fn:function({item:s}){var o;return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(((o=s.package.author)==null?void 0:o.name)||"-")+" ")])]}},{key:"item.package.date",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(a.dateFormatter(s.package.date))+" ")])]}}])})],1)],1),t(a.PackageInfoDialog,{model:{value:a.showPackageInfoDialog,callback:function(s){a.showPackageInfoDialog=s},expression:"showPackageInfoDialog"}})],1)},Ie=[],Ve=u(Re,Fe,Ie,!1,null,null,null,null);const Ae=Ve.exports,Be={__name:"App",setup(n){return{__sfc:!0,PackagesList:Ae}}};var Oe=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(Y,[t(J,{attrs:{app:"",elevation:"1",absolute:""}},[t(m,[t(Q,[e._v("Packages info App")])],1)],1),t(ee,[t(m,[t(a.PackagesList)],1)],1),t(te,{attrs:{app:"",absolute:""}},[t(m,[t(pe)],1)],1)],1)},Me=[],Ee=u(Be,Oe,Me,!1,null,null,null,null);const je=Ee.exports;P.use(ae);new P({vuetify:oe,pinia:se(),render:n=>n(je)}).$mount("#app");export{He as __vite_legacy_guard};
